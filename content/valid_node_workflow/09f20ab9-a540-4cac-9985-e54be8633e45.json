{"description": "With the recent introduction of Flux, prompting has become significantly easier.\nI took this a step further by using Florence2 to automatically generate captions for images I found on Google, then directly fed that text into Flux's prompt box.\nThe outcome? Highly detailed and accurate descriptions of the reference images. Interestingly, Flux isn't interpreting the pixels of the reference image itself but rather the caption generated by Florence2. Yet, the similarity between the reference and the generated image is remarkably good.", "name": "Flux workflow - Florence2 caption based", "stars": "5.0", "number_reviews": 1, "workflow_like": 35, "workflow_view": 14000, "workflow_download": 4300, "workflow_comment": 19, "author_workflow": 2, "author_download": 7100, "author_like": 56, "author_view": 22600, "url": "https://openart.ai/workflows/kudu_sorrowful_23/flux-workflow---florence2-caption-based/SeG3Jqgzl2JmhHMAXzzN", "workflow_json": {"last_node_id": 32, "last_link_id": 47, "nodes": [{"id": 22, "type": "BasicGuider", "pos": [559, 125], "size": {"0": 241.79998779296875, "1": 46}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 39, "slot_index": 0}, {"name": "conditioning", "type": "CONDITIONING", "link": 40, "slot_index": 1}], "outputs": [{"name": "GUIDER", "type": "GUIDER", "links": [46], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "BasicGuider"}}, {"id": 8, "type": "VAEDecode", "pos": [1248, 192], "size": {"0": 210, "1": 46}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 24}, {"name": "vae", "type": "VAE", "link": 12}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [9], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 25, "type": "RandomNoise", "pos": [470, 611], "size": {"0": 315, "1": 82}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "NOISE", "type": "NOISE", "links": [37], "shape": 3}], "properties": {"Node name for S&R": "RandomNoise"}, "widgets_values": [829901552888368, "randomize"]}, {"id": 26, "type": "Florence2Run", "pos": [430, 1200], "size": {"0": 400, "1": 352.00006103515625}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 41, "slot_index": 0}, {"name": "florence2_model", "type": "FL2MODEL", "link": 42, "slot_index": 1}], "outputs": [{"name": "image", "type": "IMAGE", "links": null, "shape": 3}, {"name": "mask", "type": "MASK", "links": null, "shape": 3}, {"name": "caption", "type": "STRING", "links": [43], "shape": 3, "slot_index": 2}, {"name": "data", "type": "JSON", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Florence2Run"}, "widgets_values": ["", "more_detailed_caption", true, false, 1024, 3, true, "", 962624258153816, "randomize"]}, {"id": 12, "type": "UNETLoader", "pos": [24, 127], "size": {"0": 315, "1": 82}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [38, 39], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UNETLoader"}, "widgets_values": ["flux1-dev.sft", "fp8_e4m3fn"]}, {"id": 11, "type": "DualCLIPLoader", "pos": [28, 239], "size": {"0": 315, "1": 106}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "CLIP", "type": "CLIP", "links": [10], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "DualCLIPLoader"}, "widgets_values": ["t5xxl_fp16.safetensors", "clip_l.safetensors", "flux"]}, {"id": 10, "type": "VAELoader", "pos": [864, 384], "size": {"0": 315, "1": 58}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "VAE", "type": "VAE", "links": [12], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["ae.sft"]}, {"id": 5, "type": "EmptyLatentImage", "pos": [473, 450], "size": {"0": 315, "1": 106}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [], "slot_index": 0}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [1216, 832, 1]}, {"id": 17, "type": "BasicScheduler", "pos": [468, 867], "size": {"0": 315, "1": 106}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 38, "slot_index": 0}], "outputs": [{"name": "SIGMAS", "type": "SIGMAS", "links": [20], "shape": 3}], "properties": {"Node name for S&R": "BasicScheduler"}, "widgets_values": ["sgm_uniform", 40, 1]}, {"id": 16, "type": "KSamplerSelect", "pos": [470, 749], "size": {"0": 315, "1": 58}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "SAMPLER", "type": "SAMPLER", "links": [19], "shape": 3}], "properties": {"Node name for S&R": "KSamplerSelect"}, "widgets_values": ["euler"]}, {"id": 13, "type": "SamplerCustomAdvanced", "pos": [842, 215], "size": {"0": 355.20001220703125, "1": 326}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "noise", "type": "NOISE", "link": 37, "slot_index": 0}, {"name": "guider", "type": "GUIDER", "link": 46, "slot_index": 1}, {"name": "sampler", "type": "SAMPLER", "link": 19, "slot_index": 2}, {"name": "sigmas", "type": "SIGMAS", "link": 20, "slot_index": 3}, {"name": "latent_image", "type": "LATENT", "link": 45, "slot_index": 4}], "outputs": [{"name": "output", "type": "LATENT", "links": [24], "shape": 3, "slot_index": 0}, {"name": "denoised_output", "type": "LATENT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "SamplerCustomAdvanced"}}, {"id": 9, "type": "SaveImage", "pos": [2193, 537], "size": {"0": 327.94573974609375, "1": 312.0306091308594}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 9}], "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 27, "type": "LoadImage", "pos": [1595, 535], "size": {"0": 290.69122314453125, "1": 314}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [41], "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["pasted/image (32).png", "image"]}, {"id": 30, "type": "SDXLEmptyLatentSizePicker+", "pos": [1598, 907], "size": {"0": 390.2002868652344, "1": 170}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [45], "shape": 3, "slot_index": 0}, {"name": "width", "type": "INT", "links": null, "shape": 3}, {"name": "height", "type": "INT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "SDXLEmptyLatentSizePicker+"}, "widgets_values": ["1216x832 (1.46)", 1, 0, 0]}, {"id": 28, "type": "DownloadAndLoadFlorence2Model", "pos": [50, 1220], "size": {"0": 315, "1": 106}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "lora", "type": "PEFTLORA", "link": null}], "outputs": [{"name": "florence2_model", "type": "FL2MODEL", "links": [42], "shape": 3}], "properties": {"Node name for S&R": "DownloadAndLoadFlorence2Model"}, "widgets_values": ["thwri/CogFlorence-2.1-Large", "fp16", "sdpa"]}, {"id": 6, "type": "CLIPTextEncode", "pos": [375, 221], "size": {"0": 422.84503173828125, "1": 164.31304931640625}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 10}, {"name": "text", "type": "STRING", "link": 47, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [40], "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["cinematic 18k film grain movie still of an insane god of death, the undertaker, the reaper, sitting in his homey setup at the edge of infinity in the realms between life and death, dark, mysterious, uncanney valley, ethereal and surrealistic, in the style of peppitone alimony and jera the god, all powerful omniprescent awkward being, terror filled but blockbuster depitiction done in a daunty french way"]}, {"id": 29, "type": "ShowText|pysssss", "pos": [1891, 534], "size": {"0": 295.9107971191406, "1": 313.4365234375}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "text", "type": "STRING", "link": 43, "widget": {"name": "text"}}], "outputs": [{"name": "STRING", "type": "STRING", "links": [47], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "ShowText|pysssss"}, "widgets_values": ["", "A vintage-styled wooden shelf filled with a variety of kitchen items. The shelf is painted in a soft green hue, and the items are displayed in pastel colors, including pink, blue, yellow, and green. The items include bowls, plates, and small figurines, each with unique designs and patterns. There are also boxes, one of which is labeled 'Superior Potato Chips' and another labeled 'Betty Crocker's New Picture Cook Book'. The background is a plain, off-white wall, which contrasts with the vibrant colors of the items on the shelf. The overall style of the image is nostalgic, reminiscent of a bygone era, with a touch of whimsy and charm."], "shape": 2}], "links": [[9, 8, 0, 9, 0, "IMAGE"], [10, 11, 0, 6, 0, "CLIP"], [12, 10, 0, 8, 1, "VAE"], [19, 16, 0, 13, 2, "SAMPLER"], [20, 17, 0, 13, 3, "SIGMAS"], [24, 13, 0, 8, 0, "LATENT"], [37, 25, 0, 13, 0, "NOISE"], [38, 12, 0, 17, 0, "MODEL"], [39, 12, 0, 22, 0, "MODEL"], [40, 6, 0, 22, 1, "CONDITIONING"], [41, 27, 0, 26, 0, "IMAGE"], [42, 28, 0, 26, 1, "FL2MODEL"], [43, 26, 2, 29, 0, "STRING"], [45, 30, 0, 13, 4, "LATENT"], [46, 22, 0, 13, 1, "GUIDER"], [47, 29, 0, 6, 1, "STRING"]], "groups": [{"title": "Reference Image", "bounding": [1603, 470, 193, 80], "color": "#b58b2a", "font_size": 24, "locked": false}, {"title": "Automatic Caption", "bounding": [1898, 471, 203, 80], "color": "#b58b2a", "font_size": 24, "locked": false}, {"title": "Generated Image", "bounding": [2206, 474, 199, 80], "color": "#b58b2a", "font_size": 24, "locked": false}], "config": {}, "extra": {"ds": {"scale": 0.7247295000000038, "offset": [411.0810690103472, 102.86145988772078]}}, "version": 0.4}}
{"description": "Hi everyone, at last ControlNet models for Flux are here. There are also Flux Depth and HED models and workflows that you can find in my profile.\n\n\nRequirements:\n1- Clone this repo into the ComfyUI/custom_nodes:  https://github.com/XLabs-AI/x-flux-comfyui\n2- Go to ComfyUI/custom_nodes/x-flux-comfyui/ and run       python setup.py\n3- Go to models/xlabs/controlnet and download this model into that folder:   https://huggingface.co/XLabs-AI/flux-controlnet-collections/blob/main/flux-canny-controlnet-v3.safetensors\n4- Run Comfy UI and it should work now.\n\nNotes:\n*This workflow uses flux-dev-nf-4-v2 by lllyasviel because it's the fastest dev model version, but you can use default dev with fp8/fp16 as well. I didn't tested on Schnell yet. You can see my workflow for nf4 here:  https://openart.ai/workflows/reverentelusarca/flux-bnb-nf4-dev/moAPwvEbR9YZRVIZvyjA", "name": "Flux ControlNet Canny[XLabs]", "stars": "5.0", "number_reviews": 0, "workflow_like": 11, "workflow_view": 11500, "workflow_download": 3300, "workflow_comment": 10, "author_workflow": 20, "author_download": 97900, "author_like": 1000, "author_view": 295800, "url": "https://openart.ai/workflows/reverentelusarca/flux-controlnet-cannyxlabs/p4SgVH4pv9837yuwL0n4", "workflow_json": {"last_node_id": 33, "last_link_id": 60, "nodes": [{"id": 7, "type": "VAEDecode", "pos": [1646, -274], "size": {"0": 210, "1": 46}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 6, "slot_index": 0}, {"name": "vae", "type": "VAE", "link": 7}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [41], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 8, "type": "VAELoader", "pos": [1194, 2], "size": {"0": 315, "1": 58}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "VAE", "type": "VAE", "links": [7], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["ae.sft"]}, {"id": 30, "type": "DualCLIPLoader", "pos": [-331, 492], "size": {"0": 315, "1": 106}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "CLIP", "type": "CLIP", "links": [54, 55], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "DualCLIPLoader"}, "widgets_values": ["t5xxl_fp8_e4m3fn.safetensors", "clip_l.safetensors", "flux"]}, {"id": 24, "type": "Image Save", "pos": [2004, -349], "size": {"0": 425.21099853515625, "1": 909.9096069335938}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 41}], "outputs": [{"name": "images", "type": "IMAGE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Image Save"}, "widgets_values": ["flux[time(%Y-%m-%d)]", "ComfyUI", "_", 4, "false", "png", 300, 100, "true", "false", "false", "false", "true", "true", "true"]}, {"id": 25, "type": "CheckpointLoaderNF4", "pos": [-328, 345], "size": {"0": 315, "1": 98}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [44], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CheckpointLoaderNF4"}, "widgets_values": ["flux1-dev-bnb-nf4-v2.safetensors"]}, {"id": 14, "type": "ApplyFluxControlNet", "pos": [644, -343], "size": {"0": 393, "1": 78}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "controlnet", "type": "FluxControlNet", "link": 19}, {"name": "image", "type": "IMAGE", "link": 60, "slot_index": 1}], "outputs": [{"name": "controlnet_condition", "type": "ControlNetCondition", "links": [28], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ApplyFluxControlNet"}, "widgets_values": [0.7000000000000001]}, {"id": 3, "type": "XlabsSampler", "pos": [1182, -294], "size": {"0": 342.5999755859375, "1": 234}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 44, "slot_index": 0}, {"name": "conditioning", "type": "CONDITIONING", "link": 18}, {"name": "neg_conditioning", "type": "CONDITIONING", "link": 47}, {"name": "latent_image", "type": "LATENT", "link": 57, "slot_index": 3}, {"name": "controlnet_condition", "type": "ControlNetCondition", "link": 28}], "outputs": [{"name": "latent", "type": "LATENT", "links": [6], "shape": 3}], "properties": {"Node name for S&R": "XlabsSampler"}, "widgets_values": [918475043204552, "randomize", 25, 1, 3.5]}, {"id": 26, "type": "CLIPTextEncode", "pos": [598, 205], "size": {"0": 372.85595703125, "1": 85.04666900634766}, "flags": {}, "order": 6, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 54}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [47], "shape": 3, "slot_index": 0}], "title": "Negative Prompt CLIP", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""]}, {"id": 17, "type": "PreviewImage", "pos": [361, -153], "size": {"0": 210, "1": 246}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 59, "slot_index": 0}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 13, "type": "LoadFluxControlNet", "pos": [204, -352], "size": {"0": 315, "1": 82}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "ControlNet", "type": "FluxControlNet", "links": [19], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LoadFluxControlNet"}, "widgets_values": ["flux-dev", "flux-canny-controlnet-v3.safetensors"]}, {"id": 33, "type": "Canny", "pos": [-15, -153], "size": {"0": 315, "1": 82}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 58, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [59, 60], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Canny"}, "widgets_values": [0.1, 0.5]}, {"id": 16, "type": "LoadImage", "pos": [-315, -14], "size": {"0": 315, "1": 314}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [58], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["ComfyUI_00525_.png", "image"]}, {"id": 5, "type": "CLIPTextEncodeFlux", "pos": [606, -177], "size": {"0": 386.7622375488281, "1": 326.3218994140625}, "flags": {}, "order": 7, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 55, "slot_index": 0}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [18], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncodeFlux"}, "widgets_values": ["robot, android, mechanic", "black hair asian woman smiling, outdoors,cityscape", 4]}, {"id": 32, "type": "SDXLEmptyLatentSizePicker+", "pos": [1053, 223], "size": {"0": 315, "1": 122}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [57], "shape": 3, "slot_index": 0}, {"name": "width", "type": "INT", "links": null, "shape": 3}, {"name": "height", "type": "INT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "SDXLEmptyLatentSizePicker+"}, "widgets_values": ["1024x1024 (1.0)", 1]}], "links": [[6, 3, 0, 7, 0, "LATENT"], [7, 8, 0, 7, 1, "VAE"], [18, 5, 0, 3, 1, "CONDITIONING"], [19, 13, 0, 14, 0, "FluxControlNet"], [28, 14, 0, 3, 4, "ControlNetCondition"], [41, 7, 0, 24, 0, "IMAGE"], [44, 25, 0, 3, 0, "MODEL"], [47, 26, 0, 3, 2, "CONDITIONING"], [54, 30, 0, 26, 0, "CLIP"], [55, 30, 0, 5, 0, "CLIP"], [57, 32, 0, 3, 3, "LATENT"], [58, 16, 0, 33, 0, "IMAGE"], [59, 33, 0, 17, 0, "IMAGE"], [60, 33, 0, 14, 1, "IMAGE"]], "groups": [], "config": {}, "extra": {"ds": {"scale": 0.7972024500000015, "offset": [-127.88932559944928, 447.93580430753707]}}, "version": 0.4}}
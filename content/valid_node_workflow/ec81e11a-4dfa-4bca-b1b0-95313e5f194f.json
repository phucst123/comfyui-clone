{"description": "What this workflow does\n\ud83d\udc49 [Please add here]\n\nHow to use this workflow\n\ud83d\udc49 [Please add here]\n\nTips about this workflow\n\ud83d\udc49 [Please add here]\n\n\ud83c\udfa5 Video demo link (optional)\n\ud83d\udc49 [Please add here]", "name": "SD1.5 w/upscale and face swap", "stars": "4.5", "number_reviews": 2, "workflow_like": 53, "workflow_view": 12600, "workflow_download": 4000, "workflow_comment": 2, "author_workflow": 4, "author_download": 6200, "author_like": 67, "author_view": 20600, "url": "https://openart.ai/workflows/mule_cultured_50/sd15-wupscale-and-face-swap/E5VVQVjwq2Fl0TKquG9F", "workflow_json": {"last_node_id": 150, "last_link_id": 277, "nodes": [{"id": 57, "type": "ImageSharpen", "pos": [1675.5647038085947, 222.42120335937494], "size": {"0": 315, "1": 106}, "flags": {"pinned": true}, "order": 22, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 277}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [266], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSharpen"}, "widgets_values": [1, 0.5, 0.30000000000000004]}, {"id": 70, "type": "VAEDecode", "pos": [1687.5647038085947, -741.5787966406255], "size": {"0": 303.8965148925781, "1": 58.19807052612305}, "flags": {"pinned": true}, "order": 14, "mode": 2, "inputs": [{"name": "samples", "type": "LATENT", "link": 164}, {"name": "vae", "type": "VAE", "link": 145, "slot_index": 1}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [175], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 55, "type": "UpscaleModelLoader", "pos": [1679.5647038085947, 104.42120335937506], "size": {"0": 315, "1": 58}, "flags": {"pinned": true}, "order": 0, "mode": 2, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [78], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x_foolhardy_Remacri.pth"]}, {"id": 54, "type": "UltimateSDUpscale", "pos": [1680.5647038085947, -599.5787966406253], "size": {"0": 311.4963073730469, "1": 802}, "flags": {"pinned": true}, "order": 18, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 177}, {"name": "model", "type": "MODEL", "link": 276, "slot_index": 1}, {"name": "positive", "type": "CONDITIONING", "link": 148}, {"name": "negative", "type": "CONDITIONING", "link": 149, "slot_index": 3}, {"name": "vae", "type": "VAE", "link": 150, "slot_index": 4}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 78}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [277], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [2, 1043274143153940, "randomize", 30, 7, "dpmpp_2m", "karras", 0.3, "Linear", 512, 512, 8, 32, "None", 1, 64, 8, 16, "enable"]}, {"id": 96, "type": "UpscaleModelLoader", "pos": [1677.36417890625, 1294.9688891147189], "size": {"0": 315, "1": 58}, "flags": {"pinned": false}, "order": 1, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [162], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x_foolhardy_Remacri.pth"]}, {"id": 95, "type": "UltimateSDUpscale", "pos": [1678.36417890625, 588.968889114718], "size": {"0": 311.4963073730469, "1": 802}, "flags": {"pinned": false}, "order": 25, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 179}, {"name": "model", "type": "MODEL", "link": 274, "slot_index": 1}, {"name": "positive", "type": "CONDITIONING", "link": 166, "slot_index": 2}, {"name": "negative", "type": "CONDITIONING", "link": 167, "slot_index": 3}, {"name": "vae", "type": "VAE", "link": 168, "slot_index": 4}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 162}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [161], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [2, 203469903059440, "randomize", 30, 7, "dpmpp_2m", "karras", 0.3, "Linear", 512, 512, 8, 32, "None", 1, 64, 8, 16, "enable"]}, {"id": 104, "type": "PreviewImage", "pos": [524, 68], "size": {"0": 226.59495544433594, "1": 260.2012939453125}, "flags": {}, "order": 19, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 191}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 105, "type": "PreviewImage", "pos": [810, 66], "size": {"0": 223.59495544433594, "1": 256.2012939453125}, "flags": {}, "order": 20, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 192}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 98, "type": "FaceDetailer", "pos": [1072, -748], "size": {"0": 500.2965087890625, "1": 1086.611572265625}, "flags": {}, "order": 16, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 175}, {"name": "model", "type": "MODEL", "link": 272, "slot_index": 1}, {"name": "clip", "type": "CLIP", "link": 173, "slot_index": 2}, {"name": "vae", "type": "VAE", "link": 187, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "link": 174, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "link": 188, "slot_index": 5}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 171, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": null}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": 172}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "slot_index": 9}], "outputs": [{"name": "image", "type": "IMAGE", "links": [177], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": [191], "shape": 6, "slot_index": 1}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": [192], "shape": 6, "slot_index": 2}, {"name": "mask", "type": "MASK", "links": [], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3, "slot_index": 4}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6, "slot_index": 5}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, true, 768, 451565566480376, "randomize", 20, 8, "dpmpp_2m", "karras", 0.5, 5, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1]}, {"id": 97, "type": "ImageSharpen", "pos": [1673.36417890625, 1428.9688891147189], "size": {"0": 315, "1": 106}, "flags": {"pinned": false}, "order": 28, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 161}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [264, 265], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSharpen"}, "widgets_values": [1, 0.5, 0.30000000000000004]}, {"id": 148, "type": "PreviewImage", "pos": [2047, -761], "size": {"0": 758.7020263671875, "1": 1108.415283203125}, "flags": {}, "order": 24, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 266}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 147, "type": "PreviewImage", "pos": [2052, 446], "size": {"0": 757.5086669921875, "1": 1098.2393798828125}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 265}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 94, "type": "VAEDecode", "pos": [1679.36417890625, 464.96888911471797], "size": {"0": 303.8965148925781, "1": 58.19807052612305}, "flags": {"pinned": false}, "order": 21, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 163}, {"name": "vae", "type": "VAE", "link": 170, "slot_index": 1}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [178], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 100, "type": "MediaPipeFaceMeshDetectorProvider //Inspire", "pos": [531, 929], "size": {"0": 348.81964111328125, "1": 290.4441833496094}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [180], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [181], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"}, "widgets_values": [10, true, true, false, true, false, false, true, false]}, {"id": 102, "type": "PreviewImage", "pos": [470, 1240], "size": {"0": 237.10255432128906, "1": 330.0596008300781}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 189}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 103, "type": "PreviewImage", "pos": [764, 1241], "size": {"0": 251.28854370117188, "1": 327.0596008300781}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 190}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 101, "type": "FaceDetailer", "pos": [1059, 474], "size": {"0": 475.0335388183594, "1": 1052}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 178}, {"name": "model", "type": "MODEL", "link": 273, "slot_index": 1}, {"name": "clip", "type": "CLIP", "link": 183, "slot_index": 2}, {"name": "vae", "type": "VAE", "link": 186, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "link": 184, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "link": 185, "slot_index": 5}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 180, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": null}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": 181}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "slot_index": 9}], "outputs": [{"name": "image", "type": "IMAGE", "links": [179], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": [189], "shape": 6, "slot_index": 1}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": [190], "shape": 6, "slot_index": 2}, {"name": "mask", "type": "MASK", "links": [], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3, "slot_index": 4}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6, "slot_index": 5}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, true, 768, 444071187364725, "randomize", 20, 8, "dpmpp_2m", "karras", 0.5, 5, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1]}, {"id": 79, "type": "VAEDecode", "pos": [599, -410], "size": {"0": 346.4886474609375, "1": 73.23518371582031}, "flags": {"pinned": false}, "order": 13, "mode": 2, "inputs": [{"name": "samples", "type": "LATENT", "link": 126}, {"name": "vae", "type": "VAE", "link": 125}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [154], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 75, "type": "KSampler", "pos": [547, -758], "size": {"0": 357.48162841796875, "1": 446}, "flags": {}, "order": 12, "mode": 2, "inputs": [{"name": "model", "type": "MODEL", "link": 271}, {"name": "positive", "type": "CONDITIONING", "link": 121}, {"name": "negative", "type": "CONDITIONING", "link": 122}, {"name": "latent_image", "type": "LATENT", "link": 124}, {"name": "seed", "type": "INT", "link": 119, "widget": {"name": "seed"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [126, 164], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [397926081852564, "randomize", 30, 7, "dpmpp_2m", "karras", 1]}, {"id": 99, "type": "MediaPipeFaceMeshDetectorProvider //Inspire", "pos": [584, -269], "size": {"0": 348.81964111328125, "1": 290.4441833496094}, "flags": {}, "order": 3, "mode": 2, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [171], "shape": 3}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [172], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"}, "widgets_values": [10, true, true, false, true, false, false, true, false]}, {"id": 80, "type": "KSampler", "pos": [538, 450], "size": {"0": 341.9502258300781, "1": 446}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 138, "slot_index": 0}, {"name": "positive", "type": "CONDITIONING", "link": 128}, {"name": "negative", "type": "CONDITIONING", "link": 129, "slot_index": 2}, {"name": "latent_image", "type": "LATENT", "link": 131}, {"name": "seed", "type": "INT", "link": 132, "widget": {"name": "seed"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [163], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [606114873513158, "randomize", 30, 7, "dpmpp_2m", "karras", 1]}, {"id": 87, "type": "CLIPVisionLoader", "pos": [60, 198], "size": {"0": 315, "1": 58}, "flags": {}, "order": 4, "mode": 2, "outputs": [{"name": "CLIP_VISION", "type": "CLIP_VISION", "links": [142], "shape": 3}], "properties": {"Node name for S&R": "CLIPVisionLoader"}, "widgets_values": ["pytorch_model.bin"]}, {"id": 85, "type": "IPAdapter", "pos": [32, -104], "size": {"0": 380.4000244140625, "1": 166}, "flags": {}, "order": 15, "mode": 4, "inputs": [{"name": "model", "type": "MODEL", "link": 270, "slot_index": 0}, {"name": "image", "type": "IMAGE", "link": 154, "slot_index": 1}, {"name": "clip_vision", "type": "CLIP_VISION", "link": 142, "slot_index": 2}, {"name": "mask", "type": "MASK", "link": null, "slot_index": 3}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [138], "shape": 3}, {"name": "CLIP_VISION_OUTPUT", "type": "CLIP_VISION_OUTPUT", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "IPAdapter"}, "widgets_values": [0.3, "ip-adapter_sd15_light.bin", "fp16"]}, {"id": 150, "type": "FreeU_V2", "pos": [59, -746], "size": {"0": 315, "1": 130}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 269}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [270, 271, 272, 273, 274, 275, 276], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "FreeU_V2"}, "widgets_values": [1.5, 1.6, 0.9, 0.2]}, {"id": 110, "type": "PreviewImage", "pos": [2839, 836], "size": [465.3824555681131, 672.9504481561873], "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 197}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 114, "type": "MediaPipeFaceMeshDetectorProvider //Inspire", "pos": [3935, 526], "size": [312.83467816772463, 287.96883018310564], "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [205], "shape": 3}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [206], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"}, "widgets_values": [10, false, true, false, true, false, false, true, false]}, {"id": 118, "type": "SAMLoader", "pos": [3933, 860], "size": {"0": 315, "1": 82}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [217], "shape": 3}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_b_01ec64.pth", "AUTO"]}, {"id": 116, "type": "PreviewImage", "pos": [4063, 1013], "size": [195.6944897460935, 253.75162902832017], "flags": {}, "order": 39, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 208}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 115, "type": "PreviewImage", "pos": [3865, 1013], "size": [190.03710327148428, 246.83725891113272], "flags": {}, "order": 38, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 207}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 129, "type": "UltimateSDUpscaleNoUpscale", "pos": [4305, 452], "size": {"0": 315, "1": 730}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "upscaled_image", "type": "IMAGE", "link": 237}, {"name": "model", "type": "MODEL", "link": 229}, {"name": "positive", "type": "CONDITIONING", "link": 230}, {"name": "negative", "type": "CONDITIONING", "link": 231}, {"name": "vae", "type": "VAE", "link": 232}, {"name": "seed", "type": "INT", "link": 235, "widget": {"name": "seed"}}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [233, 239, 254], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscaleNoUpscale"}, "widgets_values": [754834525412486, "randomize", 20, 8, "dpmpp_2m", "karras", 0.25, "Linear", 512, 512, 8, 32, "None", 0.35000000000000003, 64, 8, 16, "enable"]}, {"id": 132, "type": "ImageCompositeMasked", "pos": [4650, 461], "size": {"0": 315, "1": 146}, "flags": {}, "order": 44, "mode": 0, "inputs": [{"name": "destination", "type": "IMAGE", "link": 250}, {"name": "source", "type": "IMAGE", "link": 239}, {"name": "mask", "type": "MASK", "link": 249}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [252], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageCompositeMasked"}, "widgets_values": [0, 0, false]}, {"id": 143, "type": "ImageCompositeMasked", "pos": [4652, 650], "size": {"0": 315, "1": 146}, "flags": {}, "order": 46, "mode": 0, "inputs": [{"name": "destination", "type": "IMAGE", "link": 261}, {"name": "source", "type": "IMAGE", "link": 260}, {"name": "mask", "type": "MASK", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [262], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageCompositeMasked"}, "widgets_values": [0, 0, false]}, {"id": 141, "type": "ImageInvert", "pos": [4658, 840], "size": {"0": 210, "1": 26}, "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 254}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [260], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageInvert"}}, {"id": 139, "type": "ImageInvert", "pos": [4654, 915], "size": {"0": 210, "1": 26}, "flags": {}, "order": 45, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 252}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [261], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageInvert"}}, {"id": 145, "type": "ImageInvert", "pos": [4798, 1524], "size": {"0": 210, "1": 26}, "flags": {}, "order": 47, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 262}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [267], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageInvert"}}, {"id": 119, "type": "MaskToImage", "pos": [4657, 987], "size": {"0": 202.77110290527344, "1": 31.548173904418945}, "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 221}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 121, "type": "InvertMask", "pos": [4656, 1065], "size": {"0": 210, "1": 26}, "flags": {}, "order": 40, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 220}], "outputs": [{"name": "MASK", "type": "MASK", "links": [221], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InvertMask"}}, {"id": 136, "type": "MaskToImage", "pos": [4666, 1135], "size": {"0": 202.77110290527344, "1": 31.548173904418945}, "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 248}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [250], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 133, "type": "ImageInvert", "pos": [4673, 1204], "size": {"0": 210, "1": 26}, "flags": {}, "order": 37, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 242}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [243], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageInvert"}}, {"id": 135, "type": "PreviewImage", "pos": [4313, 1301], "size": {"0": 210, "1": 246}, "flags": {}, "order": 42, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 243}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 131, "type": "PreviewImage", "pos": [4542, 1310], "size": {"0": 210, "1": 246}, "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 241}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 126, "type": "PreviewImage", "pos": [5048, -1], "size": {"0": 1028.5921630859375, "1": 1568.9293212890625}, "flags": {}, "order": 34, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 233}], "title": "Refined, post face swap", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 149, "type": "SaveImage", "pos": [6090, -30], "size": [1042.5365481676708, 1602.5782527014794], "flags": {}, "order": 48, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 267}], "title": "Refined, post face swap, with eyes and mouth patched back in", "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 74, "type": "Seed Generator", "pos": [70, -439], "size": {"0": 315, "1": 82}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [119, 132, 214, 235], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Seed Generator"}, "widgets_values": [331953318685547, "increment"]}, {"id": 108, "type": "ReActorFaceSwap", "pos": [2848, 451], "size": {"0": 315, "1": 338}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "input_image", "type": "IMAGE", "link": 264}, {"name": "source_image", "type": "IMAGE", "link": 196, "slot_index": 1}, {"name": "face_model", "type": "FACE_MODEL", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [197, 237, 245], "shape": 3, "slot_index": 0}, {"name": "FACE_MODEL", "type": "FACE_MODEL", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ReActorFaceSwap"}, "widgets_values": [true, "inswapper_128_fp16.onnx", "retinaface_resnet50", "GFPGANv1.4.pth", 1, 0.5, "no", "no", "0", "0", 2]}, {"id": 113, "type": "FaceDetailer", "pos": [3350, 456], "size": {"0": 500.2965087890625, "1": 1086.611572265625}, "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 245, "slot_index": 0}, {"name": "model", "type": "MODEL", "link": 275, "slot_index": 1}, {"name": "clip", "type": "CLIP", "link": 216, "slot_index": 2}, {"name": "vae", "type": "VAE", "link": 213, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "link": 211, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "link": 212, "slot_index": 5}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 205, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 217, "slot_index": 7}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": 206}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "slot_index": 9}, {"name": "seed", "type": "INT", "link": 214, "widget": {"name": "seed"}}], "outputs": [{"name": "image", "type": "IMAGE", "links": [241, 242], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": [207], "shape": 6, "slot_index": 1}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": [208], "shape": 6, "slot_index": 2}, {"name": "mask", "type": "MASK", "links": [220, 248, 249], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3, "slot_index": 4}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6, "slot_index": 5}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, true, 768, 700148353729151, "randomize", 20, 8, "dpmpp_2m", "karras", 0.65, 5, true, true, 0.2, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1]}, {"id": 65, "type": "LoRA Stacker", "pos": [-577, -558], "size": {"0": 520.9400634765625, "1": 178}, "flags": {"pinned": false}, "order": 8, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [102], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LoRA Stacker"}, "widgets_values": ["simple", 2, "Detail_Slider_Stable_Yogi-SD15.safetensors", 1, 1, 1, "GoodHands-beta2.safetensors", 1, 1, 1, "None", 1, 1, 1, "None", 0.7000000000000001, 1, 1, "None", 0.6, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1], "color": "#222233", "bgcolor": "#333355", "shape": 1}, {"id": 109, "type": "LoadImage", "pos": [-333, 33], "size": {"0": 315, "1": 314}, "flags": {}, "order": 9, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [196], "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "title": "Head Shot for ReActor", "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["2023-11-11 14_12_09-(1) Facebook (1).png", "image"]}, {"id": 62, "type": "Efficient Loader", "pos": [-1253, -751], "size": {"0": 644.0054321289062, "1": 747.7349243164062}, "flags": {"pinned": false}, "order": 10, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": 102}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [229, 269], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [121, 128, 148, 166, 174, 184, 211, 230], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [122, 129, 149, 167, 185, 188, 212, 231], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [124, 131], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [125, 145, 150, 168, 170, 186, 187, 213, 232], "shape": 3, "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": [173, 183, 216], "shape": 3, "slot_index": 5}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3, "slot_index": 6}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["darkphoenix3D_v12.safetensors", "vae-ft-mse-840000-ema-pruned.safetensors", -2, "None", 0.8, 0.8, "masterpiece, best quality, (colorful), dim lighting, extremely detailed CG unity 8k wallpaper, (chubby:1.2), beautiful detailed face, extremely delicate and beautiful, (on bed:1.1), straight dark hair, small breasts, photo of a young girl, (freckles:0.6), smiling, various colors of lingerie, various colors of negligee, relaxed, content, soft, masterpiece, volumetric light, best quality, complimentary colors, dramatic lighting, intricate details, subsurface scattering, (cheekbones:1.3)", "(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy, bad hands, mutated, deformed, bad proportions, blurry, distorted, text, signature, logo, username, closed eyes,  mosaic censoring, censored, bar censor, (embedding:ERA09NegV1:1), (embedding:bad-artist:1), (embedding:bad-artist-anime:1), (embedding:bad-image-v2-39000:1), (embedding:badhandv4:1), (embedding:EasyNegative:1), (embedding:EasyNegativeV2:1), (embedding:bad_prompt_version2:1), signature, artist name, text, (animal ears:1.2), earrings, big breasts, arched back, legs crossed, skinny arms, skinny, hour glass figure, long torso", "none", "comfy++", 512, 768, 1], "color": "#332222", "bgcolor": "#553333", "shape": 1}], "links": [[78, 55, 0, 54, 5, "UPSCALE_MODEL"], [102, 65, 0, 62, 0, "LORA_STACK"], [119, 74, 0, 75, 4, "INT"], [121, 62, 1, 75, 1, "CONDITIONING"], [122, 62, 2, 75, 2, "CONDITIONING"], [124, 62, 3, 75, 3, "LATENT"], [125, 62, 4, 79, 1, "VAE"], [126, 75, 0, 79, 0, "LATENT"], [128, 62, 1, 80, 1, "CONDITIONING"], [129, 62, 2, 80, 2, "CONDITIONING"], [131, 62, 3, 80, 3, "LATENT"], [132, 74, 0, 80, 4, "INT"], [138, 85, 0, 80, 0, "MODEL"], [142, 87, 0, 85, 2, "CLIP_VISION"], [145, 62, 4, 70, 1, "VAE"], [148, 62, 1, 54, 2, "CONDITIONING"], [149, 62, 2, 54, 3, "CONDITIONING"], [150, 62, 4, 54, 4, "VAE"], [154, 79, 0, 85, 1, "IMAGE"], [161, 95, 0, 97, 0, "IMAGE"], [162, 96, 0, 95, 5, "UPSCALE_MODEL"], [163, 80, 0, 94, 0, "LATENT"], [164, 75, 0, 70, 0, "LATENT"], [166, 62, 1, 95, 2, "CONDITIONING"], [167, 62, 2, 95, 3, "CONDITIONING"], [168, 62, 4, 95, 4, "VAE"], [170, 62, 4, 94, 1, "VAE"], [171, 99, 0, 98, 6, "BBOX_DETECTOR"], [172, 99, 1, 98, 8, "SEGM_DETECTOR"], [173, 62, 5, 98, 2, "CLIP"], [174, 62, 1, 98, 4, "CONDITIONING"], [175, 70, 0, 98, 0, "IMAGE"], [177, 98, 0, 54, 0, "IMAGE"], [178, 94, 0, 101, 0, "IMAGE"], [179, 101, 0, 95, 0, "IMAGE"], [180, 100, 0, 101, 6, "BBOX_DETECTOR"], [181, 100, 1, 101, 8, "SEGM_DETECTOR"], [183, 62, 5, 101, 2, "CLIP"], [184, 62, 1, 101, 4, "CONDITIONING"], [185, 62, 2, 101, 5, "CONDITIONING"], [186, 62, 4, 101, 3, "VAE"], [187, 62, 4, 98, 3, "VAE"], [188, 62, 2, 98, 5, "CONDITIONING"], [189, 101, 1, 102, 0, "IMAGE"], [190, 101, 2, 103, 0, "IMAGE"], [191, 98, 1, 104, 0, "IMAGE"], [192, 98, 2, 105, 0, "IMAGE"], [196, 109, 0, 108, 1, "IMAGE"], [197, 108, 0, 110, 0, "IMAGE"], [205, 114, 0, 113, 6, "BBOX_DETECTOR"], [206, 114, 1, 113, 8, "SEGM_DETECTOR"], [207, 113, 1, 115, 0, "IMAGE"], [208, 113, 2, 116, 0, "IMAGE"], [211, 62, 1, 113, 4, "CONDITIONING"], [212, 62, 2, 113, 5, "CONDITIONING"], [213, 62, 4, 113, 3, "VAE"], [214, 74, 0, 113, 10, "INT"], [216, 62, 5, 113, 2, "CLIP"], [217, 118, 0, 113, 7, "SAM_MODEL"], [220, 113, 3, 121, 0, "MASK"], [221, 121, 0, 119, 0, "MASK"], [229, 62, 0, 129, 1, "MODEL"], [230, 62, 1, 129, 2, "CONDITIONING"], [231, 62, 2, 129, 3, "CONDITIONING"], [232, 62, 4, 129, 4, "VAE"], [233, 129, 0, 126, 0, "IMAGE"], [235, 74, 0, 129, 5, "INT"], [237, 108, 0, 129, 0, "IMAGE"], [239, 129, 0, 132, 1, "IMAGE"], [241, 113, 0, 131, 0, "IMAGE"], [242, 113, 0, 133, 0, "IMAGE"], [243, 133, 0, 135, 0, "IMAGE"], [245, 108, 0, 113, 0, "IMAGE"], [248, 113, 3, 136, 0, "MASK"], [249, 113, 3, 132, 2, "MASK"], [250, 136, 0, 132, 0, "IMAGE"], [252, 132, 0, 139, 0, "IMAGE"], [254, 129, 0, 141, 0, "IMAGE"], [260, 141, 0, 143, 1, "IMAGE"], [261, 139, 0, 143, 0, "IMAGE"], [262, 143, 0, 145, 0, "IMAGE"], [264, 97, 0, 108, 0, "IMAGE"], [265, 97, 0, 147, 0, "IMAGE"], [266, 57, 0, 148, 0, "IMAGE"], [267, 145, 0, 149, 0, "IMAGE"], [269, 62, 0, 150, 0, "MODEL"], [270, 150, 0, 85, 0, "MODEL"], [271, 150, 0, 75, 0, "MODEL"], [272, 150, 0, 98, 1, "MODEL"], [273, 150, 0, 101, 1, "MODEL"], [274, 150, 0, 95, 1, "MODEL"], [275, 150, 0, 113, 1, "MODEL"], [276, 150, 0, 54, 1, "MODEL"], [277, 54, 0, 57, 0, "IMAGE"]], "groups": [{"title": "Ultimate SD Upscale", "bounding": [2036, -836, 785, 1199], "color": "#b58b2a", "font_size": 24, "locked": true}, {"title": "Ultimate SD Upscale", "bounding": [1644, -837, 384, 1200], "color": "#b58b2a", "font_size": 24, "locked": false}, {"title": "Loader & LoRA", "bounding": [-1311, -837, 1310, 1197], "color": "#a1309b", "font_size": 24, "locked": false}, {"title": "FreeU_V2", "bounding": [4, -838, 433, 279], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Seed", "bounding": [4, -554, 435, 296], "color": "#8A8", "font_size": 24, "locked": false}, {"title": "IPAdapter", "bounding": [4, -250, 434, 613], "color": "#b06634", "font_size": 24, "locked": false}, {"title": "Sampler - FaceDetailer", "bounding": [442, -838, 1195, 1201], "color": "#b58b2a", "font_size": 24, "locked": false}, {"title": "Sampler - IPAdapter - FaceDetailer", "bounding": [442, 368, 1193, 1206], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Ultimate SD Upscale - IPAdapter", "bounding": [1645, 368, 380, 1200], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Ultimate SD Upscale - IPAdapter", "bounding": [2035, 368, 787, 1198], "color": "#3f789e", "font_size": 24, "locked": true}, {"title": "Face Swap", "bounding": [2830, 370, 493, 1195], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Detailer Post-Swap", "bounding": [3332, 370, 945, 1196], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Refine FaceSwap B4 pasting eyes and mouth", "bounding": [4284, 369, 736, 1200], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {}, "version": 0.4, "seed_widgets": {"54": 1, "74": 0, "95": 1, "98": 3, "101": 3}}}
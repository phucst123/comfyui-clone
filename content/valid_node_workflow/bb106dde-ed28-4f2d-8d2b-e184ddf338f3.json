{"description": "100% Face Similarity: The Ultimate Face Swap Workflow (Better Than Any PuLID, InstantID, IP-Adapter):\nhttps://youtu.be/ambLYrJ3U_c\n---------\nThis ComfyUI workflow is designed for swapping faces with high similarity using a trained LoRA model.\nIt starts with setting up essential custom nodes in ComfyUI, followed by configuring a sequence of operations including loading checkpoints, detecting faces, and executing the face swap using specialized nodes like \"Eff. Loader SDXL\", \"KSampler SDXL\", and \"FaceDetailer\".\nEach step is meticulously designed to ensure the generated face matches the trained subject accurately and integrates seamlessly into any desired image.\nFor a detailed, step-by-step visual guide on how to use this workflow, check out the corresponding video tutorial at https://youtu.be/EwBE4oKC1QY.\n\nThis resource is particularly helpful for visual learners and those new to ComfyUI or face swapping technology.", "name": "Swap Faces with LoRA in ComfyUI", "stars": "5.0", "number_reviews": 0, "workflow_like": 29, "workflow_view": 12200, "workflow_download": 2900, "workflow_comment": 4, "author_workflow": 16, "author_download": 108400, "author_like": 977, "author_view": 248800, "url": "https://openart.ai/workflows/tortoise_crazy_36/swap-faces-with-lora-in-comfyui/2yjGKpgNLI0rNhAFPN80", "workflow_json": {"last_node_id": 24, "last_link_id": 41, "nodes": [{"id": 14, "type": "Eff. Loader SDXL", "pos": [-114, -59], "size": {"0": 400, "1": 474}, "flags": {}, "order": 0, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null, "label": "lora_stack"}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null, "label": "cnet_stack"}], "outputs": [{"name": "SDXL_TUPLE", "type": "SDXL_TUPLE", "links": [26], "shape": 3, "label": "SDXL_TUPLE", "slot_index": 0}, {"name": "LATENT", "type": "LATENT", "links": [27], "shape": 3, "label": "LATENT", "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [28], "shape": 3, "label": "VAE", "slot_index": 2}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3, "label": "DEPENDENCIES"}], "properties": {"Node name for S&R": "Eff. Loader SDXL"}, "widgets_values": ["albedobaseXL_v13.safetensors", -1, "None", -2, 6, 2, "Baked VAE", "young woman, (soft pink wavy hair:1.2), wearing a light grey coat, light snowfall in a tranquil winter park setting, bare trees in the background", "", "none", "comfy", 1024, 1024, 1], "bgcolor": "#553333", "shape": 1}, {"id": 18, "type": "FaceDetailer", "pos": [1094, 5], "size": {"0": 506.4000244140625, "1": 880}, "flags": {}, "order": 5, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 30, "label": "image"}, {"name": "model", "type": "MODEL", "link": 31, "label": "model"}, {"name": "clip", "type": "CLIP", "link": 32, "label": "clip"}, {"name": "vae", "type": "VAE", "link": 35, "label": "vae"}, {"name": "positive", "type": "CONDITIONING", "link": 33, "label": "positive"}, {"name": "negative", "type": "CONDITIONING", "link": 34, "label": "negative"}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 36, "label": "bbox_detector"}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 37, "label": "sam_model_opt"}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": null, "label": "segm_detector_opt"}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "label": "detailer_hook"}], "outputs": [{"name": "image", "type": "IMAGE", "links": [38], "shape": 3, "label": "image", "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": null, "shape": 6, "label": "cropped_refined"}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6, "label": "cropped_enhanced_alpha"}, {"name": "mask", "type": "MASK", "links": [39], "shape": 3, "label": "mask", "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3, "label": "detailer_pipe"}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6, "label": "cnet_images"}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [384, true, 512, 123377807803558, "randomize", 20, 8, "euler", "ddim_uniform", 0.5, 5, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1, false, 20]}, {"id": 16, "type": "UltralyticsDetectorProvider", "pos": [685, -79], "size": {"0": 315, "1": 78}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [36], "shape": 3, "label": "BBOX_DETECTOR", "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": null, "shape": 3, "label": "SEGM_DETECTOR"}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["face_yolov8m.pt"]}, {"id": 17, "type": "SAMLoader", "pos": [684, 63], "size": {"0": 315, "1": 82}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [37], "shape": 3, "label": "SAM_MODEL", "slot_index": 0}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_h_4b8939.pth", "AUTO"]}, {"id": 20, "type": "Efficient Loader", "pos": [653, 206], "size": [400, 510.00001525878906], "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null, "label": "lora_stack"}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null, "label": "cnet_stack"}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [31], "shape": 3, "label": "MODEL", "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [33], "shape": 3, "label": "CONDITIONING+", "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [34], "shape": 3, "label": "CONDITIONING-", "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": null, "shape": 3, "label": "LATENT"}, {"name": "VAE", "type": "VAE", "links": [35], "shape": 3, "label": "VAE", "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": [32], "shape": 3, "label": "CLIP", "slot_index": 5}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3, "label": "DEPENDENCIES"}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["realisticVisionV20_v20.safetensors", "Baked VAE", -1, "aitana-000007.safetensors", 0.9, 1, "1girl, headshot, best quality, highres", "worst quality, normal quality, low quality, low res, blurry, text, watermark, logo, banner, extra digits, cropped, jpeg artifacts, signature, username, error, sketch, duplicate, ugly, monochrome, horror, geometry, mutation, disgusting ", "none", "comfy", 512, 512, 1], "bgcolor": "#335555", "shape": 1}, {"id": 22, "type": "MaskToImage", "pos": [1644, 65], "size": {"0": 210, "1": 26}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 39, "label": "mask"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [40], "shape": 3, "label": "IMAGE", "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 23, "type": "PreviewImage", "pos": [1887, 67], "size": [210, 246], "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 40, "label": "images"}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 15, "type": "KSampler SDXL (Eff.)", "pos": [307, -59], "size": [325, 546], "flags": {}, "order": 4, "mode": 0, "inputs": [{"name": "sdxl_tuple", "type": "SDXL_TUPLE", "link": 26, "label": "sdxl_tuple"}, {"name": "latent_image", "type": "LATENT", "link": 27, "label": "latent_image"}, {"name": "optional_vae", "type": "VAE", "link": 28, "label": "optional_vae"}, {"name": "script", "type": "SCRIPT", "link": null, "label": "script"}], "outputs": [{"name": "SDXL_TUPLE", "type": "SDXL_TUPLE", "links": null, "shape": 3, "label": "SDXL_TUPLE"}, {"name": "LATENT", "type": "LATENT", "links": null, "shape": 3, "label": "LATENT"}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3, "label": "VAE"}, {"name": "IMAGE", "type": "IMAGE", "links": [30, 41], "shape": 3, "label": "IMAGE", "slot_index": 3}], "properties": {"Node name for S&R": "KSampler SDXL (Eff.)"}, "widgets_values": [965268365615374, null, 20, 7, "euler", "ddim_uniform", 0, -1, "auto", "true"], "bgcolor": "#335555", "shape": 1}, {"id": 24, "type": "PreviewImage", "pos": [1082, 938], "size": [576.3862318453716, 693.0119789483124], "flags": {}, "order": 6, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 41, "label": "images"}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 21, "type": "PreviewImage", "pos": [1669, 986], "size": [614.1825032500155, 602.8789102441551], "flags": {}, "order": 7, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 38, "label": "images"}], "properties": {"Node name for S&R": "PreviewImage"}}], "links": [[26, 14, 0, 15, 0, "SDXL_TUPLE"], [27, 14, 1, 15, 1, "LATENT"], [28, 14, 2, 15, 2, "VAE"], [30, 15, 3, 18, 0, "IMAGE"], [31, 20, 0, 18, 1, "MODEL"], [32, 20, 5, 18, 2, "CLIP"], [33, 20, 1, 18, 4, "CONDITIONING"], [34, 20, 2, 18, 5, "CONDITIONING"], [35, 20, 4, 18, 3, "VAE"], [36, 16, 0, 18, 6, "BBOX_DETECTOR"], [37, 17, 0, 18, 7, "SAM_MODEL"], [38, 18, 0, 21, 0, "IMAGE"], [39, 18, 3, 22, 0, "MASK"], [40, 22, 0, 23, 0, "IMAGE"], [41, 15, 3, 24, 0, "IMAGE"]], "groups": [], "config": {}, "extra": {}, "version": 0.4}}
{"description": "This approach uses the merging technique to convert the used model into its inpaint version, as well as the new InpaintModelConditioning node (You need to update ComfyUI and Manager).\nModel conversion optimizes inpainting.\nif you already have the image to inpaint, you will need to integrate it with the image upload node in the workflow\nInpainting SDXL model : https://huggingface.co/diffusers/stable-diffusion-xl-1.0-inpainting-0.1/tree/main/unet\nPut the model in \\ComfyUI\\models\\unet (You can rename it if you want)", "name": "ComfyUI SDXL Inpainting", "stars": "5.0", "number_reviews": 2, "workflow_like": 66, "workflow_view": 20800, "workflow_download": 5500, "workflow_comment": 7, "author_workflow": 3, "author_download": 7100, "author_like": 91, "author_view": 26800, "url": "https://openart.ai/workflows/rat_dismal_40/comfyui-sdxl-inpainting/0ErhhSzJ1O7RLIvt7KGT", "workflow_json": {"last_node_id": 282, "last_link_id": 654, "nodes": [{"id": 272, "type": "ModelMergeAdd", "pos": [710, 130], "size": {"0": 140, "1": 46}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "model1", "type": "MODEL", "link": 631}, {"name": "model2", "type": "MODEL", "link": 633}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [634], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ModelMergeAdd"}, "color": "#323", "bgcolor": "#535"}, {"id": 267, "type": "CLIPTextEncode", "pos": [1650, 90], "size": {"0": 210, "1": 76}, "flags": {"collapsed": false}, "order": 16, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 637}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [622], "shape": 3, "slot_index": 0}], "title": "Prompt +", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["well drawn hand"], "color": "#232", "bgcolor": "#353"}, {"id": 278, "type": "SDXLAspectRatio", "pos": [680, 520], "size": {"0": 210, "1": 126}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "Width", "type": "INT", "links": [645], "shape": 3, "slot_index": 0}, {"name": "Height", "type": "INT", "links": [646], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "SDXLAspectRatio"}, "widgets_values": [64, 64, "1:1  - 1024x1024 square"], "color": "#323", "bgcolor": "#535"}, {"id": 277, "type": "EmptyLatentImage", "pos": [920, 520], "size": {"0": 210, "1": 78}, "flags": {}, "order": 7, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 645, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 646, "widget": {"name": "height"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [647], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [512, 512, 1], "color": "#323", "bgcolor": "#535"}, {"id": 269, "type": "CheckpointLoaderSimple", "pos": [30, 240], "size": {"0": 388.9016418457031, "1": 101.6074447631836}, "flags": {"pinned": false}, "order": 1, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [628], "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [], "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [], "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["SDXL Base.safetensors"], "color": "#233", "bgcolor": "#355"}, {"id": 4, "type": "CheckpointLoaderSimple", "pos": [30, 400], "size": {"0": 360, "1": 100}, "flags": {"pinned": false}, "order": 2, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [633, 635], "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [390, 391, 559], "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [489], "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["CrystalClear.safetensors"], "color": "#233", "bgcolor": "#355"}, {"id": 238, "type": "PrimitiveNode", "pos": [30, 560], "size": {"0": 376.58477783203125, "1": 107.68138122558594}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [560], "slot_index": 0, "widget": {"name": "text"}}], "properties": {"Run widget replace on values": false}, "widgets_values": ["a beautiful woman waving her hands"], "color": "#232", "bgcolor": "#353"}, {"id": 239, "type": "PrimitiveNode", "pos": [30, 710], "size": {"0": 364.18475341796875, "1": 101.88137817382812}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [561], "slot_index": 0, "widget": {"name": "text"}}], "properties": {"Run widget replace on values": false}, "widgets_values": [""], "color": "#322", "bgcolor": "#533"}, {"id": 270, "type": "ModelMergeSubtract", "pos": [460, 130], "size": {"0": 210, "1": 78}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "model1", "type": "MODEL", "link": 636}, {"name": "model2", "type": "MODEL", "link": 628}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [631], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ModelMergeSubtract"}, "widgets_values": [1], "color": "#323", "bgcolor": "#535"}, {"id": 194, "type": "ToBasicPipe", "pos": [890, 200], "size": {"0": 161.1999969482422, "1": 106}, "flags": {"collapsed": true}, "order": 12, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 634}, {"name": "clip", "type": "CLIP", "link": 559}, {"name": "vae", "type": "VAE", "link": 489}, {"name": "positive", "type": "CONDITIONING", "link": 490}, {"name": "negative", "type": "CONDITIONING", "link": 491}], "outputs": [{"name": "basic_pipe", "type": "BASIC_PIPE", "links": [569], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ToBasicPipe"}, "color": "#332922", "bgcolor": "#593930"}, {"id": 248, "type": "FromBasicPipe_v2", "pos": [1050, 200], "size": {"0": 178, "1": 126}, "flags": {"collapsed": true}, "order": 13, "mode": 0, "inputs": [{"name": "basic_pipe", "type": "BASIC_PIPE", "link": 569}], "outputs": [{"name": "basic_pipe", "type": "BASIC_PIPE", "links": [638], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [571], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [572], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [573], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "FromBasicPipe_v2"}, "color": "#332922", "bgcolor": "#593930"}, {"id": 165, "type": "CLIPTextEncode", "pos": [700, 310], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 8, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 390}, {"name": "text", "type": "STRING", "link": 560, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [490], "shape": 3, "slot_index": 0}], "title": "Prompt +", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["a beautiful woman waving her hands"], "color": "#232", "bgcolor": "#353"}, {"id": 166, "type": "CLIPTextEncode", "pos": [700, 350], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 9, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 391}, {"name": "text", "type": "STRING", "link": 561, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [491], "shape": 3, "slot_index": 0}], "title": "Prompt -", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""], "color": "#322", "bgcolor": "#533"}, {"id": 274, "type": "UNETLoader", "pos": [30, 110], "size": {"0": 375.5670471191406, "1": 61.694618225097656}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [636], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UNETLoader"}, "widgets_values": ["SDXL inpaint.safetensors"], "color": "#233", "bgcolor": "#355"}, {"id": 246, "type": "PreviewBridge", "pos": [1550, 300], "size": {"0": 345.0285949707031, "1": 411.0742492675781}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 567}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [618], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": [649], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "PreviewBridge"}, "widgets_values": ["$246-1706078399.9462101"], "color": "#323", "bgcolor": "#535"}, {"id": 265, "type": "InpaintModelConditioning", "pos": [1930, 160], "size": {"0": 216.59999084472656, "1": 106}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 622}, {"name": "negative", "type": "CONDITIONING", "link": 641}, {"name": "vae", "type": "VAE", "link": 642}, {"name": "pixels", "type": "IMAGE", "link": 618}, {"name": "mask", "type": "MASK", "link": 650}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [615], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [616], "shape": 3, "slot_index": 1}, {"name": "latent", "type": "LATENT", "links": [617], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "InpaintModelConditioning"}, "color": "#323", "bgcolor": "#535"}, {"id": 253, "type": "FromBasicPipe_v2", "pos": [1430, 210], "size": {"0": 178, "1": 126}, "flags": {"collapsed": true}, "order": 14, "mode": 0, "inputs": [{"name": "basic_pipe", "type": "BASIC_PIPE", "link": 638}], "outputs": [{"name": "basic_pipe", "type": "BASIC_PIPE", "links": [], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [643], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": [637], "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [642, 652], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [641], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "FromBasicPipe_v2"}, "color": "#332922", "bgcolor": "#593930"}, {"id": 281, "type": "PreviewImage", "pos": [2561, 252], "size": [468.3625044389196, 490.91928534074225], "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 653}], "properties": {"Node name for S&R": "PreviewImage"}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 171, "type": "KSampler (Efficient)", "pos": [1230, 300], "size": {"0": 289.9726257324219, "1": 629.8282470703125}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 635}, {"name": "positive", "type": "CONDITIONING", "link": 572}, {"name": "negative", "type": "CONDITIONING", "link": 573}, {"name": "latent_image", "type": "LATENT", "link": 647}, {"name": "optional_vae", "type": "VAE", "link": 571}, {"name": "script", "type": "SCRIPT", "link": null}, {"name": "seed", "type": "INT", "link": 648, "widget": {"name": "seed"}, "slot_index": 6}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": null, "shape": 3}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}, {"name": "IMAGE", "type": "IMAGE", "links": [567, 654], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [406337977416330, "fixed", 36, 7, "dpmpp_2m_sde", "karras", 1, "auto", "true"], "color": "#223", "bgcolor": "#335", "shape": 2}, {"id": 276, "type": "Seed Generator", "pos": [790, 700], "size": {"0": 315, "1": 82}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [648], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Seed Generator"}, "widgets_values": [3, "fixed"], "color": "#323", "bgcolor": "#535"}, {"id": 282, "type": "PreviewImage", "pos": [1554, 759], "size": [250.64590454101562, 272.62591552734375], "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 654}], "properties": {"Node name for S&R": "PreviewImage"}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 279, "type": "GrowMask", "pos": [1930, 378], "size": {"0": 210, "1": 82}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 649}], "outputs": [{"name": "MASK", "type": "MASK", "links": [650], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "GrowMask"}, "widgets_values": [20, true], "color": "#323", "bgcolor": "#535"}, {"id": 259, "type": "KSampler (Efficient)", "pos": [2210, 250], "size": {"0": 289.9726257324219, "1": 629.8282470703125}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 643}, {"name": "positive", "type": "CONDITIONING", "link": 615}, {"name": "negative", "type": "CONDITIONING", "link": 616}, {"name": "latent_image", "type": "LATENT", "link": 617}, {"name": "optional_vae", "type": "VAE", "link": 652}, {"name": "script", "type": "SCRIPT", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": null, "shape": 3}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}, {"name": "IMAGE", "type": "IMAGE", "links": [653], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [1064174796801247, "fixed", 36, 6, "dpmpp_2m_sde", "karras", 0.7000000000000001, "auto", "true"], "color": "#223", "bgcolor": "#335", "shape": 2}], "links": [[390, 4, 1, 165, 0, "CLIP"], [391, 4, 1, 166, 0, "CLIP"], [489, 4, 2, 194, 2, "VAE"], [490, 165, 0, 194, 3, "CONDITIONING"], [491, 166, 0, 194, 4, "CONDITIONING"], [559, 4, 1, 194, 1, "CLIP"], [560, 238, 0, 165, 1, "STRING"], [561, 239, 0, 166, 1, "STRING"], [567, 171, 5, 246, 0, "IMAGE"], [569, 194, 0, 248, 0, "BASIC_PIPE"], [571, 248, 3, 171, 4, "VAE"], [572, 248, 4, 171, 1, "CONDITIONING"], [573, 248, 5, 171, 2, "CONDITIONING"], [615, 265, 0, 259, 1, "CONDITIONING"], [616, 265, 1, 259, 2, "CONDITIONING"], [617, 265, 2, 259, 3, "LATENT"], [618, 246, 0, 265, 3, "IMAGE"], [622, 267, 0, 265, 0, "CONDITIONING"], [628, 269, 0, 270, 1, "MODEL"], [631, 270, 0, 272, 0, "MODEL"], [633, 4, 0, 272, 1, "MODEL"], [634, 272, 0, 194, 0, "MODEL"], [635, 4, 0, 171, 0, "MODEL"], [636, 274, 0, 270, 0, "MODEL"], [637, 253, 2, 267, 0, "CLIP"], [638, 248, 0, 253, 0, "BASIC_PIPE"], [641, 253, 5, 265, 1, "CONDITIONING"], [642, 253, 3, 265, 2, "VAE"], [643, 253, 1, 259, 0, "MODEL"], [645, 278, 0, 277, 0, "INT"], [646, 278, 1, 277, 1, "INT"], [647, 277, 0, 171, 3, "LATENT"], [648, 276, 0, 171, 6, "INT"], [649, 246, 1, 279, 0, "MASK"], [650, 279, 0, 265, 4, "MASK"], [652, 253, 3, 259, 4, "VAE"], [653, 259, 5, 281, 0, "IMAGE"], [654, 171, 5, 282, 0, "IMAGE"]], "groups": [], "config": {}, "extra": {"groupNodes": {}}, "version": 0.4}}